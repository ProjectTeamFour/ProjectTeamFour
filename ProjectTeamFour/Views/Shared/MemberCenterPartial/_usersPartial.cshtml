@*@{
        var vm = (MemberViewModel)Session["Member"];
    }*@
@model MemberViewModel

@section topCSS{
    <link href="~/Assets/Css/setting.css" rel="stylesheet" />
    <link href="~/Assets/Css/Person_insPage/personal.css" rel="stylesheet" />
    <link href="~/Assets/Css/Person_insPage/rwd-personal.css" rel="stylesheet" />
}


<section class=person>
    <div class="wrap-inside">
        <div class="row">
            <div class="col-sm-12 col-md-12">
                <div class="person-data">
                    <div class="person-data-pic">
                        <img src="@Model.ProfileImgUrl" alt="個人圖片" style="border-radius:50%;">
                    </div>
                    <div class="person-data-text">
                        <h2>@Model.MemberName</h2>
                        <p>
                            購買過
                            @if (Model.Records != null)
                            {
                                <span>@Model.Records.MyOrderDetailList.Count 件專案</span>
                            }
                            else
                            {
                                <span>0件專案</span>
                            }

                            <br />發起過
                            @if (@Model.MyProjects.Count == null)
                            {
                                <span>0件專案</span>
                            }
                            else
                            {
                                <span>@Model.MyProjects.Count 件專案</span>
                            }
                            
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="about-some">
    <div class="wrap-inside">
        <div class="row">
            <div class="col-sm-12 col-md-12">
                <div class="about-case">
                    <h2>購買過的專案</h2>
                    <div class="card_part">
                        @if (Model.Records.MyOrderDetailList.Where((x) => x.condition=="已付款")!=null)
                        {
                            foreach (var i in Model.Records.MyOrderDetailList)
                            {                                
                                    @Html.Partial("~/Views/Shared/PartialView/_cardForMember.cshtml", Model.Records)                                
                            }
                        }
                        else
                        {
                            <p>目前還沒有贊助過任何專案</p>
                        }
                    </div>                    
                </div>

            </div>
        </div>
    </div>
</section>